@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  body {
    @apply bg-primary text-textPrimary font-sans cursor-none;
    overflow: hidden; /* Initially hidden, will be enabled after loading */
    will-change: transform;
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  /* Hide cursor on clickable elements */
  a, button, [role="button"] {
    @apply cursor-none;
    will-change: transform;
  }

  /* Custom cursor hover effect */
  a:hover, button:hover, [role="button"]:hover {
    @apply cursor-none;
  }
}

@layer components {
  .section-padding {
    @apply py-20 px-4 sm:px-6 lg:px-8;
  }
  
  .heading {
    @apply text-4xl sm:text-5xl font-bold mb-8;
  }
  
  .subheading {
    @apply text-xl text-textSecondary mb-4;
  }

  .skill-icon {
    @apply w-16 h-16 transition-all duration-300;
    will-change: transform;
    backface-visibility: hidden;
  }

  .skill-icon:hover {
    @apply scale-110;
    filter: drop-shadow(0 0 8px theme('colors.secondary'));
    filter: drop-shadow(0 0 12px theme('colors.secondary'));
  }

  .nav-link {
    @apply text-textSecondary hover:text-secondary transition-colors duration-300;
  }

  /* Skill card glow effect */
  .skill-card {
    @apply relative bg-primary/50 p-4 rounded-lg transition-all duration-300;
    will-change: transform, opacity;
    backface-visibility: hidden;
  }

  .skill-card::before {
    content: '';
    @apply absolute inset-0 rounded-lg transition-all duration-300 opacity-0;
    background: radial-gradient(
      circle at center,
      theme('colors.secondary') 0%,
      transparent 70%
    );
    z-index: -1;
    will-change: transform, opacity;
  }

  .skill-card:hover::before {
    @apply opacity-20;
    transform: scale(1.1);
  }
}

/* Smooth scroll behavior */
html {
  scroll-behavior: smooth;
  overscroll-behavior: none;
}

/* Hide scrollbar for Chrome, Safari and Opera */
::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
* {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/* Ensure custom cursor works on all clickable elements */
* {
  cursor: none !important;
}

/* Cursor styles - only apply on non-touch devices */
@media (hover: hover) and (pointer: fine) {
  body {
    cursor: none;
  }

  a, button, .clickable {
    cursor: none;
  }

  .custom-cursor {
    display: block;
    width: 20px;
    height: 20px;
    background: var(--secondary);
    border-radius: 50%;
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    mix-blend-mode: difference;
    transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
    backface-visibility: hidden;
  }

  .custom-cursor.hover {
    transform: scale(1.5);
  }
}

/* Hide custom cursor on touch devices */
@media (hover: none) and (pointer: coarse) {
  .custom-cursor {
    display: none;
  }
  
  body {
    cursor: auto;
  }

  a, button, .clickable {
    cursor: pointer;
  }
}

/* High refresh rate optimizations */
@media (prefers-reduced-motion: no-preference) {
  .animate-smooth {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .scroll-smooth {
    scroll-behavior: smooth;
    overscroll-behavior: none;
  }
}

/* Loading animation keyframes */
@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animate-gradient {
  animation: gradient 3s ease infinite;
  background-size: 200% 200%;
}
